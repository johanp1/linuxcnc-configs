# This config file was created 2021-03-08 20:17:44.282043 by the update_ini script
# The original config files may be found in the /home/johan/linuxcnc/configs/my-emco/my-emco.old directory

# Generated by stepconf 1.1 at Mon Nov  4 14:01:20 2019
# If you make changes to this file, they will be
# overwritten when you run stepconf again

[EMC]
# The version string for this INI file.
VERSION = 1.1

MACHINE = my-emco
DEBUG = 0

[DISPLAY]
DISPLAY = axis
EDITOR = gedit
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
ARCDIVISION = 64
GRIDS = 10mm 20mm 50mm 100mm
MAX_FEED_OVERRIDE = 1.2
MIN_SPINDLE_OVERRIDE = 0.5
MAX_SPINDLE_OVERRIDE = 1.2
DEFAULT_LINEAR_VELOCITY = 25.0
MIN_LINEAR_VELOCITY = 0
MAX_LINEAR_VELOCITY = 25.00
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 5
PROGRAM_PREFIX = /home/johan/linuxcnc/nc_files
INCREMENTS = 5mm 1mm .5mm .1mm .05mm .01mm .005mm
GLADEVCP= -u ./gladevcp-handler.py ./my-emco.ui

[FILTER]
PROGRAM_EXTENSION = .png,.gif,.jpg Greyscale Depth Image
PROGRAM_EXTENSION = .py Python Script
png = image-to-gcode
gif = image-to-gcode
jpg = image-to-gcode
py = python

[RS274NGC]
PARAMETER_FILE=linuxcnc.var
SUBROUTINE_PATH=custom-m-codes
USER_M_PATH=custom-m-codes
REMAP=M6 modalgroup=6 ngc=mychange

[EMCMOT]
EMCMOT = motmod
COMM_TIMEOUT = 1.0
BASE_PERIOD = 35000
SERVO_PERIOD = 1000000

[TASK]
TASK = milltask
CYCLE_TIME = 0.010

[HAL]
HALUI = halui
HALFILE = my-emco.hal
HALFILE = custom.hal
HALFILE = luber.hal
POSTGUI_HALFILE = custom_postgui.hal

[HALUI]
# add halui MDI commands here (max 64) 
MDI_COMMAND = G53 G0 X0 Y0 Z0  ;cmd 0  "return to home" used by MPG
MDI_COMMAND = G53 G0 Z88       ;cmd 1  "tool change position"
MDI_COMMAND = M61 Q#4999 G43   ;cmd 2  called after homing to set tool saved at last tool change

[TRAJ]
COORDINATES = XYZ
LINEAR_UNITS = mm
ANGULAR_UNITS = degree
DEFAULT_LINEAR_VELOCITY = 25.0
MAX_LINEAR_VELOCITY = 25.00
DEFAULT_LINEAR_ACCELERATION = 150.0
MAX_LINEAR_ACCELERATION = 250.0
JOINTS =      3
HOME =        0 0 0

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

[KINS]
KINEMATICS = trivkins coordinates=XYZ
#This is a best-guess at the number of joints, it should be checked
JOINTS = 3

[AXIS_X]
MIN_LIMIT = -85.0
MAX_LIMIT = 92.0
MAX_VELOCITY = 23.75
MAX_ACCELERATION = 250.0
# vi testar att sänka MAX_ACCELERATION = 750.0

[JOINT_0]
TYPE = LINEAR
HOME = 0.0
MAX_VELOCITY = 23.75
MAX_ACCELERATION = 250.0
STEPGEN_MAXACCEL = 300
#MAX_ACCELERATION = 750.0
#STEPGEN_MAXACCEL = 937.5
SCALE = 1000.0
FERROR = 1
MIN_FERROR = .25
MIN_LIMIT = -85.0
MAX_LIMIT = 92.0
HOME_OFFSET = 93.000000
HOME_SEARCH_VEL = 5.500000
HOME_LATCH_VEL = 0.500000
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1

[AXIS_Y]
#tog bort givarna som ändlägesstopp, används bara vid homing
#kunde lägga till lite på pos-y...
#MIN_LIMIT = -45.0
#MAX_LIMIT = 45.0
MIN_LIMIT = -43.0
MAX_LIMIT = 61.0
MAX_VELOCITY = 23.75
#MAX_ACCELERATION = 750.0
MAX_ACCELERATION = 250.0

[JOINT_1]
TYPE = LINEAR
HOME = 0.0
MAX_VELOCITY = 23.75
MAX_ACCELERATION = 250.0
STEPGEN_MAXACCEL = 300
#MAX_ACCELERATION = 750.0
#STEPGEN_MAXACCEL = 937.5
SCALE = 1000.0
FERROR = 1
MIN_FERROR = 0.25
MIN_LIMIT = -43.0
MAX_LIMIT = 61.0
HOME_OFFSET = 46.000000
HOME_SEARCH_VEL = 5.500000
HOME_LATCH_VEL = 0.500000
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1

[AXIS_Z]
MIN_LIMIT = -112.0
MAX_LIMIT = 88.0
MAX_VELOCITY = 5.0
MAX_ACCELERATION = 25.0

[JOINT_2]
TYPE = LINEAR
HOME = 0.0
MAX_VELOCITY = 5.0
MAX_ACCELERATION = 25.0
STEPGEN_MAXACCEL = 31.25
SCALE = 1000.0
FERROR = 1
MIN_FERROR = .25
MIN_LIMIT = -112.0
MAX_LIMIT = 88.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 2.500000
HOME_LATCH_VEL = 0.500000
HOME_SEQUENCE = 0
